import{c as jt,d as Wt,e as zt,f as Kt,g as Ut,h as Jt}from"./chunk-IMOHJLUU.js";import{$ as Ft,$a as Ke,A as ae,B as It,C as xe,D as kt,E as je,Eb as Ht,Hb as Ue,I as Ne,Ia as ne,K as xt,Ka as lt,Lb as Je,Oa as h,Ob as se,Pb as re,Qb as $t,R as Nt,Ra as he,Rb as U,S as ee,Sa as ze,T as At,U as st,Va as x,Wa as Pt,X as ue,Xa as v,Y as ot,Za as ct,_a as Me,a as F,ab as c,b as q,ba as O,bb as l,c as Ct,cb as w,d as Ot,db as Y,e as R,ea as L,eb as Z,f as sn,fa as rt,fb as K,g as T,ia as G,ib as M,j as Te,ja as H,jb as I,kb as Bt,lb as Lt,m as X,mb as Vt,na as at,nb as Ae,o as Rt,ob as Fe,pa as We,pb as Pe,q as it,qb as p,rb as te,sb as P,tb as dt,u as nt,xb as j,yb as ut,zb as Gt}from"./chunk-5PFI4TEL.js";var ti=R((sr,vt)=>{var bt=function(e){"use strict";var i=Object.prototype,n=i.hasOwnProperty,t=Object.defineProperty||function(d,a,u){d[a]=u.value},s,o=typeof Symbol=="function"?Symbol:{},r=o.iterator||"@@iterator",f=o.asyncIterator||"@@asyncIterator",b=o.toStringTag||"@@toStringTag";function S(d,a,u){return Object.defineProperty(d,a,{value:u,enumerable:!0,configurable:!0,writable:!0}),d[a]}try{S({},"")}catch{S=function(a,u,y){return a[u]=y}}function B(d,a,u,y){var _=a&&a.prototype instanceof fe?a:fe,D=Object.create(_.prototype),z=new De(y||[]);return t(D,"_invoke",{value:Xe(d,u,z)}),D}e.wrap=B;function E(d,a,u){try{return{type:"normal",arg:d.call(a,u)}}catch(y){return{type:"throw",arg:y}}}var C="suspendedStart",Q="suspendedYield",ce="executing",ie="completed",V={};function fe(){}function ve(){}function J(){}var ye={};S(ye,r,function(){return this});var we=Object.getPrototypeOf,W=we&&we(we(ke([])));W&&W!==i&&n.call(W,r)&&(ye=W);var de=J.prototype=fe.prototype=Object.create(ye);ve.prototype=J,t(de,"constructor",{value:J,configurable:!0}),t(J,"constructor",{value:ve,configurable:!0}),ve.displayName=S(J,b,"GeneratorFunction");function He(d){["next","throw","return"].forEach(function(a){S(d,a,function(u){return this._invoke(a,u)})})}e.isGeneratorFunction=function(d){var a=typeof d=="function"&&d.constructor;return a?a===ve||(a.displayName||a.name)==="GeneratorFunction":!1},e.mark=function(d){return Object.setPrototypeOf?Object.setPrototypeOf(d,J):(d.__proto__=J,S(d,b,"GeneratorFunction")),d.prototype=Object.create(de),d},e.awrap=function(d){return{__await:d}};function Se(d,a){function u(D,z,$,m){var g=E(d[D],d,z);if(g.type==="throw")m(g.arg);else{var N=g.arg,A=N.value;return A&&typeof A=="object"&&n.call(A,"__await")?a.resolve(A.__await).then(function(k){u("next",k,$,m)},function(k){u("throw",k,$,m)}):a.resolve(A).then(function(k){N.value=k,$(N)},function(k){return u("throw",k,$,m)})}}var y;function _(D,z){function $(){return new a(function(m,g){u(D,z,m,g)})}return y=y?y.then($,$):$()}t(this,"_invoke",{value:_})}He(Se.prototype),S(Se.prototype,f,function(){return this}),e.AsyncIterator=Se,e.async=function(d,a,u,y,_){_===void 0&&(_=Promise);var D=new Se(B(d,a,u,y),_);return e.isGeneratorFunction(a)?D:D.next().then(function(z){return z.done?z.value:D.next()})};function Xe(d,a,u){var y=C;return function(D,z){if(y===ce)throw new Error("Generator is already running");if(y===ie){if(D==="throw")throw z;return Ee()}for(u.method=D,u.arg=z;;){var $=u.delegate;if($){var m=$e($,u);if(m){if(m===V)continue;return m}}if(u.method==="next")u.sent=u._sent=u.arg;else if(u.method==="throw"){if(y===C)throw y=ie,u.arg;u.dispatchException(u.arg)}else u.method==="return"&&u.abrupt("return",u.arg);y=ce;var g=E(d,a,u);if(g.type==="normal"){if(y=u.done?ie:Q,g.arg===V)continue;return{value:g.arg,done:u.done}}else g.type==="throw"&&(y=ie,u.method="throw",u.arg=g.arg)}}}function $e(d,a){var u=a.method,y=d.iterator[u];if(y===s)return a.delegate=null,u==="throw"&&d.iterator.return&&(a.method="return",a.arg=s,$e(d,a),a.method==="throw")||u!=="return"&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+u+"' method")),V;var _=E(y,d.iterator,a.arg);if(_.type==="throw")return a.method="throw",a.arg=_.arg,a.delegate=null,V;var D=_.arg;if(!D)return a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,V;if(D.done)a[d.resultName]=D.value,a.next=d.nextLoc,a.method!=="return"&&(a.method="next",a.arg=s);else return D;return a.delegate=null,V}He(de),S(de,b,"Generator"),S(de,r,function(){return this}),S(de,"toString",function(){return"[object Generator]"});function et(d){var a={tryLoc:d[0]};1 in d&&(a.catchLoc=d[1]),2 in d&&(a.finallyLoc=d[2],a.afterLoc=d[3]),this.tryEntries.push(a)}function Ie(d){var a=d.completion||{};a.type="normal",delete a.arg,d.completion=a}function De(d){this.tryEntries=[{tryLoc:"root"}],d.forEach(et,this),this.reset(!0)}e.keys=function(d){var a=Object(d),u=[];for(var y in a)u.push(y);return u.reverse(),function _(){for(;u.length;){var D=u.pop();if(D in a)return _.value=D,_.done=!1,_}return _.done=!0,_}};function ke(d){if(d){var a=d[r];if(a)return a.call(d);if(typeof d.next=="function")return d;if(!isNaN(d.length)){var u=-1,y=function _(){for(;++u<d.length;)if(n.call(d,u))return _.value=d[u],_.done=!1,_;return _.value=s,_.done=!0,_};return y.next=y}}return{next:Ee}}e.values=ke;function Ee(){return{value:s,done:!0}}return De.prototype={constructor:De,reset:function(d){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(Ie),!d)for(var a in this)a.charAt(0)==="t"&&n.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=s)},stop:function(){this.done=!0;var d=this.tryEntries[0],a=d.completion;if(a.type==="throw")throw a.arg;return this.rval},dispatchException:function(d){if(this.done)throw d;var a=this;function u(m,g){return D.type="throw",D.arg=d,a.next=m,g&&(a.method="next",a.arg=s),!!g}for(var y=this.tryEntries.length-1;y>=0;--y){var _=this.tryEntries[y],D=_.completion;if(_.tryLoc==="root")return u("end");if(_.tryLoc<=this.prev){var z=n.call(_,"catchLoc"),$=n.call(_,"finallyLoc");if(z&&$){if(this.prev<_.catchLoc)return u(_.catchLoc,!0);if(this.prev<_.finallyLoc)return u(_.finallyLoc)}else if(z){if(this.prev<_.catchLoc)return u(_.catchLoc,!0)}else if($){if(this.prev<_.finallyLoc)return u(_.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(d,a){for(var u=this.tryEntries.length-1;u>=0;--u){var y=this.tryEntries[u];if(y.tryLoc<=this.prev&&n.call(y,"finallyLoc")&&this.prev<y.finallyLoc){var _=y;break}}_&&(d==="break"||d==="continue")&&_.tryLoc<=a&&a<=_.finallyLoc&&(_=null);var D=_?_.completion:{};return D.type=d,D.arg=a,_?(this.method="next",this.next=_.finallyLoc,V):this.complete(D)},complete:function(d,a){if(d.type==="throw")throw d.arg;return d.type==="break"||d.type==="continue"?this.next=d.arg:d.type==="return"?(this.rval=this.arg=d.arg,this.method="return",this.next="end"):d.type==="normal"&&a&&(this.next=a),V},finish:function(d){for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a];if(u.finallyLoc===d)return this.complete(u.completion,u.afterLoc),Ie(u),V}},catch:function(d){for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a];if(u.tryLoc===d){var y=u.completion;if(y.type==="throw"){var _=y.arg;Ie(u)}return _}}throw new Error("illegal catch attempt")},delegateYield:function(d,a,u){return this.delegate={iterator:ke(d),resultName:a,nextLoc:u},this.method==="next"&&(this.arg=s),V}},e}(typeof vt=="object"?vt.exports:{});try{regeneratorRuntime=bt}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=bt:Function("r","regeneratorRuntime = r")(bt)}});var qe=R((or,ii)=>{ii.exports=(e,i)=>`${e}-${i}-${Math.random().toString(16).slice(3,8)}`});var yt=R((rr,si)=>{var Rn=qe(),ni=0;si.exports=({id:e,action:i,payload:n={}})=>{let t=e;return typeof t>"u"&&(t=Rn("Job",ni),ni+=1),{id:t,action:i,payload:n}}});var Ye=R(Le=>{var wt=!1;Le.logging=wt;Le.setLogging=e=>{wt=e};Le.log=(...e)=>wt?console.log.apply(Le,e):null});var ai=R((Re,ri)=>{var In=yt(),{log:Ze}=Ye(),kn=qe(),oi=0;ri.exports=()=>{let e=kn("Scheduler",oi),i={},n={},t=[];oi+=1;let s=()=>t.length,o=()=>Object.keys(i).length,r=()=>{if(t.length!==0){let E=Object.keys(i);for(let C=0;C<E.length;C+=1)if(typeof n[E[C]]>"u"){t[0](i[E[C]]);break}}},f=(E,C)=>new Promise((Q,ce)=>{let ie=In({action:E,payload:C});t.push(V=>T(Re,null,function*(){t.shift(),n[V.id]=ie;try{Q(yield V[E].apply(Re,[...C,ie.id]))}catch(fe){ce(fe)}finally{delete n[V.id],r()}})),Ze(`[${e}]: Add ${ie.id} to JobQueue`),Ze(`[${e}]: JobQueue length=${t.length}`),r()});return{addWorker:E=>(i[E.id]=E,Ze(`[${e}]: Add ${E.id}`),Ze(`[${e}]: Number of workers=${o()}`),r(),E.id),addJob:(E,...C)=>T(Re,null,function*(){if(o()===0)throw Error(`[${e}]: You need to have at least one worker before adding jobs`);return f(E,C)}),terminate:()=>T(Re,null,function*(){Object.keys(i).forEach(E=>T(Re,null,function*(){yield i[E].terminate()})),t=[]}),getQueueLen:s,getNumWorkers:o}}});var ci=R((cr,li)=>{function xn(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}li.exports=xn});var ui=R((dr,di)=>{var Nn=ci();di.exports=e=>{let i={};return typeof WorkerGlobalScope<"u"?i.type="webworker":Nn()?i.type="electron":typeof document=="object"?i.type="browser":typeof process=="object"&&typeof Ct=="function"&&(i.type="node"),typeof e>"u"?i:i[e]}});var pi=R((hr,hi)=>{var An=ui()("type")==="browser",Fn=An?e=>new URL(e,window.location.href).href:e=>e;hi.exports=e=>{let i=F({},e);return["corePath","workerPath","langPath"].forEach(n=>{e[n]&&(i[n]=Fn(i[n]))}),i}});var mi=R((fr,fi)=>{fi.exports=e=>{let i=[],n=[],t=[],s=[],o=[];return e.blocks&&e.blocks.forEach(r=>{r.paragraphs.forEach(f=>{f.lines.forEach(b=>{b.words.forEach(S=>{S.symbols.forEach(B=>{o.push(q(F({},B),{page:e,block:r,paragraph:f,line:b,word:S}))}),s.push(q(F({},S),{page:e,block:r,paragraph:f,line:b}))}),t.push(q(F({},b),{page:e,block:r,paragraph:f}))}),n.push(q(F({},f),{page:e,block:r}))}),i.push(q(F({},r),{page:e}))}),q(F({},e),{blocks:i,paragraphs:n,lines:t,words:s,symbols:o})}});var St=R((_r,_i)=>{_i.exports={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}});var gi=R((gr,Pn)=>{Pn.exports={name:"tesseract.js",version:"5.0.4",description:"Pure Javascript Multilingual OCR",main:"src/index.js",types:"src/index.d.ts",unpkg:"dist/tesseract.min.js",jsdelivr:"dist/tesseract.min.js",scripts:{start:"node scripts/server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.mjs","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json",prepublishOnly:"npm run build",wait:"rimraf dist && wait-on http://localhost:3000/dist/tesseract.min.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:* test:node:all","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser-tpl":"mocha-headless-chrome -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:detect":"npm run test:browser-tpl -- -f ./tests/detect.test.html","test:browser:recognize":"npm run test:browser-tpl -- -f ./tests/recognize.test.html","test:browser:scheduler":"npm run test:browser-tpl -- -f ./tests/scheduler.test.html","test:browser:FS":"npm run test:browser-tpl -- -f ./tests/FS.test.html",lint:"eslint src","lint:fix":"eslint --fix src",postinstall:"opencollective-postinstall || true"},browser:{"./src/worker/node/index.js":"./src/worker/browser/index.js"},author:"",contributors:["jeromewu"],license:"Apache-2.0",devDependencies:{"@babel/core":"^7.21.4","@babel/eslint-parser":"^7.21.3","@babel/preset-env":"^7.21.4","@rollup/plugin-commonjs":"^24.1.0",acorn:"^8.8.2","babel-loader":"^9.1.2",buffer:"^6.0.3",cors:"^2.8.5",eslint:"^7.32.0","eslint-config-airbnb-base":"^14.2.1","eslint-plugin-import":"^2.27.5","expect.js":"^0.3.1",express:"^4.18.2",mocha:"^10.2.0","mocha-headless-chrome":"^4.0.0","npm-run-all":"^4.1.5",nyc:"^15.1.0",rimraf:"^5.0.0",rollup:"^3.20.7","wait-on":"^7.0.1",webpack:"^5.79.0","webpack-bundle-analyzer":"^4.8.0","webpack-cli":"^5.0.1","webpack-dev-middleware":"^6.0.2","rollup-plugin-sourcemaps":"^0.6.3"},dependencies:{"bmp-js":"^0.1.0","idb-keyval":"^6.2.0","is-electron":"^2.2.2","is-url":"^1.2.4","node-fetch":"^2.6.9","opencollective-postinstall":"^2.0.3","regenerator-runtime":"^0.13.3","tesseract.js-core":"^5.0.0","wasm-feature-detect":"^1.2.11",zlibjs:"^0.3.1"},overrides:{"@rollup/pluginutils":"^5.0.2"},repository:{type:"git",url:"https://github.com/naptha/tesseract.js.git"},bugs:{url:"https://github.com/naptha/tesseract.js/issues"},homepage:"https://github.com/naptha/tesseract.js",collective:{type:"opencollective",url:"https://opencollective.com/tesseractjs"}}});var vi=R((br,bi)=>{bi.exports={workerBlobURL:!0,logger:()=>{}}});var wi=R((vr,yi)=>{var Bn=gi().version,Ln=vi();yi.exports=q(F({},Ln),{workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${Bn}/dist/worker.min.js`})});var Di=R((wr,Si)=>{Si.exports=({workerPath:e,workerBlobURL:i})=>{let n;if(Blob&&URL&&i){let t=new Blob([`importScripts("${e}");`],{type:"application/javascript"});n=new Worker(URL.createObjectURL(t))}else n=new Worker(e);return n}});var Ti=R((Sr,Ei)=>{Ei.exports=e=>{e.terminate()}});var Ci=R((Dr,Mi)=>{Mi.exports=(e,i)=>{e.onmessage=({data:n})=>{i(n)}}});var Ii=R((Oi,Ri)=>{Ri.exports=(e,i)=>T(Oi,null,function*(){e.postMessage(i)})});var xi=R((Tt,ki)=>{var Dt=e=>new Promise((i,n)=>{let t=new FileReader;t.onload=()=>{i(t.result)},t.onerror=({target:{error:{code:s}}})=>{n(Error(`File could not be read! Code=${s}`))},t.readAsArrayBuffer(e)}),Et=e=>T(Tt,null,function*(){let i=e;if(typeof e>"u")return"undefined";if(typeof e=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e)?i=atob(e.split(",")[1]).split("").map(n=>n.charCodeAt(0)):i=yield(yield fetch(e)).arrayBuffer();else if(typeof HTMLElement<"u"&&e instanceof HTMLElement)e.tagName==="IMG"&&(i=yield Et(e.src)),e.tagName==="VIDEO"&&(i=yield Et(e.poster)),e.tagName==="CANVAS"&&(yield new Promise(n=>{e.toBlob(t=>T(Tt,null,function*(){i=yield Dt(t),n()}))}));else if(typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas){let n=yield e.convertToBlob();i=yield Dt(n)}else(e instanceof File||e instanceof Blob)&&(i=yield Dt(e));return new Uint8Array(i)});ki.exports=Et});var Ai=R((Mr,Ni)=>{var Vn=wi(),Gn=Di(),Hn=Ti(),$n=Ci(),jn=Ii(),Wn=xi();Ni.exports={defaultOptions:Vn,spawnWorker:Gn,terminateWorker:Hn,onMessage:$n,send:jn,loadImage:Wn}});var Mt=R((Ve,Li)=>{var zn=pi(),Kn=mi(),oe=yt(),{log:Fi}=Ye(),Un=qe(),be=St(),{defaultOptions:Jn,spawnWorker:Qn,terminateWorker:qn,onMessage:Yn,loadImage:Pi,send:Zn}=Ai(),Bi=0;Li.exports=(...s)=>T(Ve,[...s],function*(e="eng",i=be.LSTM_ONLY,n={},t={}){let o=Un("Worker",Bi),$=zn(F(F({},Jn),n)),{logger:r,errorHandler:f}=$,b=Ot($,["logger","errorHandler"]),S={},B={},E=typeof e=="string"?e.split("+"):e,C=i,Q=t,ce=[be.DEFAULT,be.LSTM_ONLY].includes(i)&&!b.legacyCore,ie,V,fe=new Promise((m,g)=>{V=m,ie=g}),ve=m=>{ie(m.message)},J=Qn(b);J.onerror=ve,Bi+=1;let ye=(m,g)=>{S[m]=g},we=(m,g)=>{B[m]=g},W=({id:m,action:g,payload:N})=>new Promise((A,k)=>{Fi(`[${o}]: Start ${m}, action=${g}`),ye(g,A),we(g,k),Zn(J,{workerId:o,jobId:m,action:g,payload:N})}),de=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),He=m=>W(oe({id:m,action:"load",payload:{options:{lstmOnly:ce,corePath:b.corePath,logging:b.logging}}})),Se=(m,g,N)=>W(oe({id:N,action:"FS",payload:{method:"writeFile",args:[m,g]}})),Xe=(m,g)=>W(oe({id:g,action:"FS",payload:{method:"readFile",args:[m,{encoding:"utf8"}]}})),$e=(m,g)=>W(oe({id:g,action:"FS",payload:{method:"unlink",args:[m]}})),et=(m,g,N)=>W(oe({id:N,action:"FS",payload:{method:m,args:g}})),Ie=()=>console.warn("`loadLanguage` is depreciated and should be removed from code (workers now come with language pre-loaded)"),De=(m,g)=>W(oe({id:g,action:"loadLanguage",payload:{langs:m,options:{langPath:b.langPath,dataPath:b.dataPath,cachePath:b.cachePath,cacheMethod:b.cacheMethod,gzip:b.gzip,lstmOnly:[be.LSTM_ONLY,be.TESSERACT_LSTM_COMBINED].includes(C)&&!b.legacyLang}}})),ke=()=>console.warn("`initialize` is depreciated and should be removed from code (workers now come pre-initialized)"),Ee=(m,g,N,A)=>W(oe({id:A,action:"initialize",payload:{langs:m,oem:g,config:N}})),d=(m="eng",g,N,A)=>{if(ce&&[be.TESSERACT_ONLY,be.TESSERACT_LSTM_COMBINED].includes(g))throw Error("Legacy model requested but code missing.");let k=g||C;C=k;let me=N||Q;Q=me;let tt=(typeof m=="string"?m.split("+"):m).filter(nn=>!E.includes(nn));return E.push(...tt),tt.length>0?De(tt,A).then(()=>Ee(m,k,me,A)):Ee(m,k,me,A)},a=(m={},g)=>W(oe({id:g,action:"setParameters",payload:{params:m}})),u=(k,...me)=>T(Ve,[k,...me],function*(m,g={},N={blocks:!0,text:!0,hocr:!0,tsv:!0},A){return W(oe({id:A,action:"recognize",payload:{image:yield Pi(m),options:g,output:N}}))}),y=(m="Tesseract OCR Result",g=!1,N)=>(console.log("`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead."),W(oe({id:N,action:"getPDF",payload:{title:m,textonly:g}}))),_=(m,g)=>T(Ve,null,function*(){if(ce)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return W(oe({id:g,action:"detect",payload:{image:yield Pi(m)}}))}),D=()=>T(Ve,null,function*(){return J!==null&&(qn(J),J=null),Promise.resolve()});Yn(J,({workerId:m,jobId:g,status:N,action:A,data:k})=>{if(N==="resolve"){Fi(`[${m}]: Complete ${g}`);let me=k;A==="recognize"?me=Kn(k):A==="getPDF"&&(me=Array.from(q(F({},k),{length:Object.keys(k).length}))),S[A]({jobId:g,data:me})}else if(N==="reject")if(B[A](k),A==="load"&&ie(k),f)f(k);else throw Error(k);else N==="progress"&&r(q(F({},k),{userJobId:g}))});let z={id:o,worker:J,setResolve:ye,setReject:we,load:de,writeText:Se,readText:Xe,removeFile:$e,FS:et,loadLanguage:Ie,initialize:ke,reinitialize:d,setParameters:a,recognize:u,getPDF:y,detect:_,terminate:D};return He().then(()=>De(e)).then(()=>Ee(e,i,t)).then(()=>V(z)).catch(()=>{}),fe})});var Hi=R((Ge,Gi)=>{var Vi=Mt(),Xn=(e,i,n)=>T(Ge,null,function*(){let t=yield Vi(i,1,n);return t.recognize(e).finally(()=>T(Ge,null,function*(){yield t.terminate()}))}),es=(e,i)=>T(Ge,null,function*(){let n=yield Vi("osd",0,i);return n.detect(e).finally(()=>T(Ge,null,function*(){yield n.terminate()}))});Gi.exports={recognize:Xn,detect:es}});var ji=R((Rr,$i)=>{$i.exports={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}});var zi=R((Ir,Wi)=>{Wi.exports={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}});var Ui=R((kr,Ki)=>{ti();var ts=ai(),is=Mt(),ns=Hi(),ss=ji(),os=St(),rs=zi(),{setLogging:as}=Ye();Ki.exports=F({languages:ss,OEM:os,PSM:rs,createScheduler:ts,createWorker:is,setLogging:as},ns)});var rn=["*"];var an=["dialog"];var Qt={animation:!0,transitionTimerDelayMs:5},ln=(()=>{let i=class i{constructor(){this.animation=Qt.animation}};i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();function cn(e){let{transitionDelay:i,transitionDuration:n}=window.getComputedStyle(e),t=parseFloat(i),s=parseFloat(n);return(t+s)*1e3}function qt(e){return typeof e=="string"}function ht(e){return e!=null}function dn(e){return e&&e.then}function Yt(e){return(e||document.body).getBoundingClientRect()}function un(e){return i=>new Te(n=>{let t=r=>e.run(()=>n.next(r)),s=r=>e.run(()=>n.error(r)),o=()=>e.run(()=>n.complete());return i.subscribe({next:t,error:s,complete:o})})}var hn=()=>{},{transitionTimerDelayMs:pn}=Qt,Qe=new Map,_e=(e,i,n,t)=>{let s=t.context||{},o=Qe.get(i);if(o)switch(t.runningTransition){case"continue":return Rt;case"stop":e.run(()=>o.transition$.complete()),s=Object.assign(o.context,s),Qe.delete(i)}let r=n(i,t.animation,s)||hn;if(!t.animation||window.getComputedStyle(i).transitionProperty==="none")return e.run(()=>r()),it(void 0).pipe(un(e));let f=new X,b=new X,S=f.pipe(xt(!0));Qe.set(i,{transition$:f,complete:()=>{b.next(),b.complete()},context:s});let B=cn(i);return e.runOutsideAngular(()=>{let E=ae(i,"transitionend").pipe(ee(S),xe(({target:Q})=>Q===i)),C=It(B+pn).pipe(ee(S));kt(C,E,b).pipe(ee(S)).subscribe(()=>{Qe.delete(i),e.run(()=>{r(),f.next(),f.complete()})})}),f.asObservable()};var mt=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e}(mt||{});var $o=(()=>{let e=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,i=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(e()||i()):!1})();var fn=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Zt(e){let i=Array.from(e.querySelectorAll(fn)).filter(n=>n.tabIndex!==-1);return[i[0],i[i.length-1]]}var mn=(e,i,n,t=!1)=>{e.runOutsideAngular(()=>{let s=ae(i,"focusin").pipe(ee(n),nt(o=>o.target));ae(i,"keydown").pipe(ee(n),xe(o=>o.which===mt.Tab),st(s)).subscribe(([o,r])=>{let[f,b]=Zt(i);(r===f||r===i)&&o.shiftKey&&(b.focus(),o.preventDefault()),r===b&&!o.shiftKey&&(f.focus(),o.preventDefault())}),t&&ae(i,"click").pipe(ee(n),st(s),nt(o=>o[1])).subscribe(o=>o.focus())})};var jo=new Date(1882,10,12),Wo=new Date(2174,10,25);var zo=1e3*60*60*24;var _t=1080,_n=24*_t,gn=12*_t+793,Ko=29*_n+gn,Uo=11*_t+204;var bn=(()=>{let i=class i{constructor(){this._ngbConfig=O(ln),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}};i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})(),Ce=class{constructor(i,n,t){this.nodes=i,this.viewRef=n,this.componentRef=t}};var vn=(()=>{let i=class i{constructor(){this._document=O(Je)}hide(){let t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),s=this._document.body,o=s.style,{overflow:r,paddingRight:f}=o;if(t>0){let b=parseFloat(window.getComputedStyle(s).paddingRight);o.paddingRight=`${b+t}px`}return o.overflow="hidden",()=>{t>0&&(o.paddingRight=f),o.overflow=r}}};i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})(),yn=(()=>{let i=class i{constructor(){this._nativeElement=O(lt).nativeElement,this._zone=O(ze)}ngOnInit(){this._zone.onStable.asObservable().pipe(Ne(1)).subscribe(()=>{_e(this._zone,this._nativeElement,(t,s)=>{s&&Yt(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return _e(this._zone,this._nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}};i.\u0275fac=function(s){return new(s||i)},i.\u0275cmp=L({type:i,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(s,o){s&2&&(Me("modal-backdrop"+(o.backdropClass?" "+o.backdropClass:"")),ct("show",!o.animation)("fade",o.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[j],decls:0,vars:0,template:function(s,o){},encapsulation:2});let e=i;return e})(),pe=class{update(i){}close(i){}dismiss(i){}},wn=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Sn=["animation","backdropClass"],pt=class{_applyWindowOptions(i,n){wn.forEach(t=>{ht(n[t])&&(i[t]=n[t])})}_applyBackdropOptions(i,n){Sn.forEach(t=>{ht(n[t])&&(i[t]=n[t])})}update(i){this._applyWindowOptions(this._windowCmptRef.instance,i),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,i)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(ee(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(ee(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(i,n,t,s){this._windowCmptRef=i,this._contentRef=n,this._backdropCmptRef=t,this._beforeDismiss=s,this._closed=new X,this._dismissed=new X,this._hidden=new X,i.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,r)=>{this._resolve=o,this._reject=r}),this.result.then(null,()=>{})}close(i){this._windowCmptRef&&(this._closed.next(i),this._resolve(i),this._removeModalElements())}_dismiss(i){this._dismissed.next(i),this._reject(i),this._removeModalElements()}dismiss(i){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(i);else{let n=this._beforeDismiss();dn(n)?n.then(t=>{t!==!1&&this._dismiss(i)},()=>{}):n!==!1&&this._dismiss(i)}}_removeModalElements(){let i=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():it(void 0);i.subscribe(()=>{let{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),je(i,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},ft=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}(ft||{}),Dn=(()=>{let i=class i{constructor(){this._document=O(Je),this._elRef=O(lt),this._zone=O(ze),this._closed$=new X,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new he,this.shown=new X,this.hidden=new X}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":qt(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Ne(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:t}=this._elRef,s={animation:this.animation,runningTransition:"stop"},o=_e(this._zone,t,()=>t.classList.remove("show"),s),r=_e(this._zone,this._dialogEl.nativeElement,()=>{},s),f=je(o,r);return f.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),f}_show(){let t={animation:this.animation,runningTransition:"continue"},s=_e(this._zone,this._elRef.nativeElement,(r,f)=>{f&&Yt(r),r.classList.add("show")},t),o=_e(this._zone,this._dialogEl.nativeElement,()=>{},t);je(s,o).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{ae(t,"keydown").pipe(ee(this._closed$),xe(o=>o.which===mt.Escape)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(ft.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let s=!1;ae(this._dialogEl.nativeElement,"mousedown").pipe(ee(this._closed$),At(()=>s=!1),Nt(()=>ae(t,"mouseup").pipe(ee(this._closed$),Ne(1))),xe(({target:o})=>t===o)).subscribe(()=>{s=!0}),ae(t,"click").pipe(ee(this._closed$)).subscribe(({target:o})=>{t===o&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!s&&this._zone.run(()=>this.dismiss(ft.BACKDROP_CLICK))),s=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){let s=t.querySelector("[ngbAutofocus]"),o=Zt(t)[0];(s||o||t).focus()}}_restoreFocus(){let t=this._document.body,s=this._elWithFocus,o;s&&s.focus&&t.contains(s)?o=s:o=t,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&_e(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}};i.\u0275fac=function(s){return new(s||i)},i.\u0275cmp=L({type:i,selectors:[["ngb-modal-window"]],viewQuery:function(s,o){if(s&1&&Ae(an,7),s&2){let r;Fe(r=Pe())&&(o._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(s,o){s&2&&(Pt("aria-modal",!0)("aria-labelledby",o.ariaLabelledBy)("aria-describedby",o.ariaDescribedBy),Me("modal d-block"+(o.windowClass?" "+o.windowClass:"")),ct("fade",o.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[j],ngContentSelectors:rn,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(s,o){s&1&&(Bt(),c(0,"div",0,1)(2,"div",2),Lt(3),l()()),s&2&&Me("modal-dialog"+(o.size?" modal-"+o.size:"")+(o.centered?" modal-dialog-centered":"")+o.fullscreenClass+(o.scrollable?" modal-dialog-scrollable":"")+(o.modalDialogClass?" "+o.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2});let e=i;return e})(),En=(()=>{let i=class i{constructor(){this._applicationRef=O(Ht),this._injector=O(We),this._environmentInjector=O(at),this._document=O(Je),this._scrollBar=O(vn),this._activeWindowCmptHasChanged=new X,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new he;let t=O(ze);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let s=this._windowCmpts[this._windowCmpts.length-1];mn(t,s.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(s.location.nativeElement)}})}_restoreScrollBar(){let t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,s,o){let r=o.container instanceof HTMLElement?o.container:ht(o.container)?this._document.querySelector(o.container):this._document.body;if(!r)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let f=new pe;t=o.injector||t;let b=t.get(at,null)||this._environmentInjector,S=this._getContentRef(t,b,s,f,o),B=o.backdrop!==!1?this._attachBackdrop(r):void 0,E=this._attachWindowComponent(r,S.nodes),C=new pt(E,S,B,o.beforeDismiss);return this._registerModalRef(C),this._registerWindowCmpt(E),C.hidden.pipe(Ne(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),f.close=Q=>{C.close(Q)},f.dismiss=Q=>{C.dismiss(Q)},f.update=Q=>{C.update(Q)},C.update(o),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),B&&B.instance&&B.changeDetectorRef.detectChanges(),E.changeDetectorRef.detectChanges(),C}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(s=>s.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let s=Ue(yn,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(s.hostView),t.appendChild(s.location.nativeElement),s}_attachWindowComponent(t,s){let o=Ue(Dn,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:s});return this._applicationRef.attachView(o.hostView),t.appendChild(o.location.nativeElement),o}_getContentRef(t,s,o,r,f){return o?o instanceof Vt?this._createFromTemplateRef(o,r):qt(o)?this._createFromString(o):this._createFromComponent(t,s,o,r,f):new Ce([])}_createFromTemplateRef(t,s){let o={$implicit:s,close(f){s.close(f)},dismiss(f){s.dismiss(f)}},r=t.createEmbeddedView(o);return this._applicationRef.attachView(r),new Ce([r.rootNodes],r)}_createFromString(t){let s=this._document.createTextNode(`${t}`);return new Ce([[s]])}_createFromComponent(t,s,o,r,f){let b=We.create({providers:[{provide:pe,useValue:r}],parent:t}),S=Ue(o,{environmentInjector:s,elementInjector:b}),B=S.location.nativeElement;return f.scrollable&&B.classList.add("component-host-scrollable"),this._applicationRef.attachView(S.hostView),new Ce([[B]],S.hostView,S)}_setAriaHidden(t){let s=t.parentElement;s&&t!==this._document.body&&(Array.from(s.children).forEach(o=>{o!==t&&o.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(s))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,s)=>{t?s.setAttribute("aria-hidden",t):s.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){let s=()=>{let o=this._modalRefs.indexOf(t);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(s,s)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{let s=this._windowCmpts.indexOf(t);s>-1&&(this._windowCmpts.splice(s,1),this._activeWindowCmptHasChanged.next())})}};i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})(),Oe=(()=>{let i=class i{constructor(){this._injector=O(We),this._modalStack=O(En),this._config=O(bn)}open(t,s={}){let o=F(q(F({},this._config),{animation:this._config.animation}),s);return this._modalStack.open(this._injector,t,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}};i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();var Jo=new Ft("live announcer delay",{providedIn:"root",factory:()=>100});var Tn=["video"],Mn=["canvas"];function Cn(e,i){if(e&1){let n=K();c(0,"div",6),M("click",function(){G(n);let s=I();return H(s.rotateVideoInput(!0))}),l()}}var gt=class e{constructor(i,n,t){this._mimeType=null,this._imageAsBase64=null,this._imageAsDataUrl=null,this._imageData=null,this._mimeType=n,this._imageAsDataUrl=i,this._imageData=t}static getDataFromDataUrl(i,n){return i.replace(`data:${n};base64,`,"")}get imageAsBase64(){return this._imageAsBase64?this._imageAsBase64:this._imageAsBase64=e.getDataFromDataUrl(this._imageAsDataUrl,this._mimeType)}get imageAsDataUrl(){return this._imageAsDataUrl}get imageData(){return this._imageData}},Be=class{static getAvailableVideoInputs(){return!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices?Promise.reject("enumerateDevices() not supported."):new Promise((i,n)=>{navigator.mediaDevices.enumerateDevices().then(t=>{i(t.filter(s=>s.kind==="videoinput"))}).catch(t=>{n(t.message||t)})})}},Xt=(()=>{class e{constructor(){this.width=640,this.height=480,this.videoOptions=e.DEFAULT_VIDEO_OPTIONS,this.allowCameraSwitch=!0,this.captureImageData=!1,this.imageType=e.DEFAULT_IMAGE_TYPE,this.imageQuality=e.DEFAULT_IMAGE_QUALITY,this.imageCapture=new he,this.initError=new he,this.imageClick=new he,this.cameraSwitched=new he,this.availableVideoInputs=[],this.videoInitialized=!1,this.activeVideoInputIndex=-1,this.mediaStream=null,this.activeVideoSettings=null}set trigger(n){this.triggerSubscription&&this.triggerSubscription.unsubscribe(),this.triggerSubscription=n.subscribe(()=>{this.takeSnapshot()})}set switchCamera(n){this.switchCameraSubscription&&this.switchCameraSubscription.unsubscribe(),this.switchCameraSubscription=n.subscribe(t=>{typeof t=="string"?this.switchToVideoInput(t):this.rotateVideoInput(t!==!1)})}static getMediaConstraintsForDevice(n,t){let s=t||this.DEFAULT_VIDEO_OPTIONS;return n&&(s.deviceId={exact:n}),s}static getDeviceIdFromMediaStreamTrack(n){if(n.getSettings&&n.getSettings()&&n.getSettings().deviceId)return n.getSettings().deviceId;if(n.getConstraints&&n.getConstraints()&&n.getConstraints().deviceId){let t=n.getConstraints().deviceId;return e.getValueFromConstrainDOMString(t)}}static getFacingModeFromMediaStreamTrack(n){if(n){if(n.getSettings&&n.getSettings()&&n.getSettings().facingMode)return n.getSettings().facingMode;if(n.getConstraints&&n.getConstraints()&&n.getConstraints().facingMode){let t=n.getConstraints().facingMode;return e.getValueFromConstrainDOMString(t)}}}static isUserFacing(n){let t=e.getFacingModeFromMediaStreamTrack(n);return t?t.toLowerCase()==="user":!1}static getValueFromConstrainDOMString(n){if(n){if(n instanceof String)return String(n);if(Array.isArray(n)&&Array(n).length>0)return String(n[0]);if(typeof n=="object"){if(n.exact)return String(n.exact);if(n.ideal)return String(n.ideal)}}return null}ngAfterViewInit(){this.detectAvailableDevices().then(()=>{this.switchToVideoInput(null)}).catch(n=>{this.initError.next({message:n}),this.switchToVideoInput(null)})}ngOnDestroy(){this.stopMediaTracks(),this.unsubscribeFromSubscriptions()}takeSnapshot(){let n=this.nativeVideoElement,t={width:this.width,height:this.height};n.videoWidth&&(t.width=n.videoWidth,t.height=n.videoHeight);let s=this.canvas.nativeElement;s.width=t.width,s.height=t.height;let o=s.getContext("2d");o.drawImage(n,0,0);let r=this.imageType?this.imageType:e.DEFAULT_IMAGE_TYPE,f=this.imageQuality?this.imageQuality:e.DEFAULT_IMAGE_QUALITY,b=s.toDataURL(r,f),S=null;this.captureImageData&&(S=o.getImageData(0,0,s.width,s.height)),this.imageCapture.next(new gt(b,r,S))}rotateVideoInput(n){if(this.availableVideoInputs&&this.availableVideoInputs.length>1){let t=n?1:this.availableVideoInputs.length-1,s=(this.activeVideoInputIndex+t)%this.availableVideoInputs.length;this.switchToVideoInput(this.availableVideoInputs[s].deviceId)}}switchToVideoInput(n){this.videoInitialized=!1,this.stopMediaTracks(),this.initWebcam(n,this.videoOptions)}videoResize(){}get videoWidth(){let n=this.getVideoAspectRatio();return Math.min(this.width,this.height*n)}get videoHeight(){let n=this.getVideoAspectRatio();return Math.min(this.height,this.width/n)}get videoStyleClasses(){let n="";return this.isMirrorImage()&&(n+="mirrored "),n.trim()}get nativeVideoElement(){return this.video.nativeElement}getVideoAspectRatio(){let n=this.nativeVideoElement;return n.videoWidth&&n.videoWidth>0&&n.videoHeight&&n.videoHeight>0?n.videoWidth/n.videoHeight:this.width/this.height}initWebcam(n,t){let s=this.nativeVideoElement;if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){let o=e.getMediaConstraintsForDevice(n,t);navigator.mediaDevices.getUserMedia({video:o}).then(r=>{this.mediaStream=r,s.srcObject=r,s.play(),this.activeVideoSettings=r.getVideoTracks()[0].getSettings();let f=e.getDeviceIdFromMediaStreamTrack(r.getVideoTracks()[0]);this.cameraSwitched.next(f),this.detectAvailableDevices().then(()=>{this.activeVideoInputIndex=f?this.availableVideoInputs.findIndex(b=>b.deviceId===f):-1,this.videoInitialized=!0}).catch(()=>{this.activeVideoInputIndex=-1,this.videoInitialized=!0})}).catch(r=>{this.initError.next({message:r.message,mediaStreamError:r})})}else this.initError.next({message:"Cannot read UserMedia from MediaDevices."})}getActiveVideoTrack(){return this.mediaStream?this.mediaStream.getVideoTracks()[0]:null}isMirrorImage(){if(!this.getActiveVideoTrack())return!1;{let n="auto";switch(this.mirrorImage&&(typeof this.mirrorImage=="string"?n=String(this.mirrorImage).toLowerCase():this.mirrorImage.x&&(n=this.mirrorImage.x.toLowerCase())),n){case"always":return!0;case"never":return!1}}return e.isUserFacing(this.getActiveVideoTrack())}stopMediaTracks(){this.mediaStream&&this.mediaStream.getTracks&&(this.nativeVideoElement.pause(),this.mediaStream.getTracks().forEach(n=>n.stop()))}unsubscribeFromSubscriptions(){this.triggerSubscription&&this.triggerSubscription.unsubscribe(),this.switchCameraSubscription&&this.switchCameraSubscription.unsubscribe()}detectAvailableDevices(){return new Promise((n,t)=>{Be.getAvailableVideoInputs().then(s=>{this.availableVideoInputs=s,n(s)}).catch(s=>{this.availableVideoInputs=[],t(s)})})}}return e.DEFAULT_VIDEO_OPTIONS={facingMode:"environment"},e.DEFAULT_IMAGE_TYPE="image/jpeg",e.DEFAULT_IMAGE_QUALITY=.92,e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=L({type:e,selectors:[["webcam"]],viewQuery:function(n,t){if(n&1&&(Ae(Tn,7),Ae(Mn,7)),n&2){let s;Fe(s=Pe())&&(t.video=s.first),Fe(s=Pe())&&(t.canvas=s.first)}},inputs:{width:"width",height:"height",videoOptions:"videoOptions",allowCameraSwitch:"allowCameraSwitch",mirrorImage:"mirrorImage",captureImageData:"captureImageData",imageType:"imageType",imageQuality:"imageQuality",trigger:"trigger",switchCamera:"switchCamera"},outputs:{imageCapture:"imageCapture",initError:"initError",imageClick:"imageClick",cameraSwitched:"cameraSwitched"},decls:6,vars:7,consts:[[1,"webcam-wrapper",3,"click"],["autoplay","","muted","","playsinline","",3,"width","height","resize"],["video",""],["class","camera-switch",3,"click",4,"ngIf"],[3,"width","height"],["canvas",""],[1,"camera-switch",3,"click"]],template:function(n,t){n&1&&(c(0,"div",0),M("click",function(){return t.imageClick.next()}),c(1,"video",1,2),M("resize",function(){return t.videoResize()}),l(),x(3,Cn,1,0,"div",3),w(4,"canvas",4,5),l()),n&2&&(h(),Me(t.videoStyleClasses),v("width",t.videoWidth)("height",t.videoHeight),h(2),v("ngIf",t.allowCameraSwitch&&t.availableVideoInputs.length>1&&t.videoInitialized),h(),v("width",t.width)("height",t.height))},dependencies:[re],styles:[".webcam-wrapper[_ngcontent-%COMP%]{display:inline-block;position:relative;line-height:0}.webcam-wrapper[_ngcontent-%COMP%]   video.mirrored[_ngcontent-%COMP%]{transform:scaleX(-1)}.webcam-wrapper[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{display:none}.webcam-wrapper[_ngcontent-%COMP%]   .camera-switch[_ngcontent-%COMP%]{background-color:#0000001a;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAE9UlEQVR42u2aT2hdRRTGf+cRQqghSqihdBFDkRISK2KDfzDWxHaRQHEhaINKqa1gKQhd6EZLN+IidCH+Q0oWIkVRC21BQxXRitVaSbKoJSGtYGoK2tQ/tU1jY5v0c5F54Xl7b/KSO/PyEt+3e5f75p7zzZwzZ74zUEIJJfyfYaEGllQGVAGZlENdBy6Z2cSiYFTSKkkfS/pH/nBF0kFJdUW9AiRVASeAukD8DgNrzOySrwEzng18KaDzALXuG8W3AiStAvqBisBRNg40mtlPxbYCOgvgPO4bncWW+JpVeDQXRQhIygDfA00F5r0XuNfMrgclQFI98DDQCNQA5ZFXqoCWBVp8XwHRHeEqcN7loy/NbHBesyqpQ1KfFj/6nC+ZvFaApFrgPaCZpYVvgCfNbDiRAElNwGFg+RIt/X8H2s2s9wYCJDUAR4HqJX7++RN40MwGpgmQVAH0AQ2BPz4AHHPl8nBOAqtyFWQjsA6oL4Ada81sPDv7uwImod8kvSJp9RyS8O2SXnb/DYVd2Y9VSroQ4ANXJO2WVJmixqh0kzMWwL4LkiqRtDnA4D1zmfE8j9g9AezcnAHaPcfXdbfdnPZ2Yps6+DwAvO/Z1naTdApY7Xng48BDZnY1MpMVQBuw3iXc5Tnb0wBwBPjUzP6eoezuArZ6svM0geJLkvZEYnl3nkntoqROSbckSW2Suj3ZOIangc7GPJuUtNGdFIfmMeavktoSSKiW9LMPw30Q8JqkekmjCbOZRhuclLQjgYSNxUBAj6RyZ9ATgUJpUtJTCSR8vpAEXHAyWK5BXYFIGHOlepSAloUk4NEYgyoknQhEwhFJ0e8h6VSaQeerCb5uZgdi9utxYBNwOUD93hIVXswM4INCi6K9wAszFC2DwLOBDjHbYp59karIUnRdzYy/3ClqVklaUhfwTICj7K25OqA7a4wWagVsm4Me/xzwg2cCqqONFzO7DPxSCAJi436GUBgHHguQD2oTlJ55oSzP9ybccsttSJw1szdjFOSnI/8dTCGZHwcORp4Nx7y3B1iZ8/sm4MW8/Euxg5wIsS/HaAp3zeP4/G7obRDXI4jiTIA22H7Xdc7X+S3A5lC7QBQ357aq3VAjCeSkwUfAJrfvz+R8A9ADLAtZB+TinpjC5JMA+//jwPZZnF8G7J+L8z4IWB/zbG+gIujVWfLBW/NStVMmqaG4POJRsIjix7h8IGnLQuoBbQki5sVAJHyYm7YkNaRRtXwQ8G1cHpX0iKRrgUjYno17Sf0LrQhJUkdCeHWkVITGJI0k1QeS3ikGSUzOyJUJJNznYneuOCnpTldcxa2kP3xJYqOeSDjqZG8ShJLnE8TTuMS6Iyu1BW7djZqkfo9N0QOuYJmYQddfB7RG+gLTNzqAY9FrL+5/nwEbvDdJJe3zzOrhNP3AWRqmk55t3ZcBuj3b2gb0Sbrbo/NNzk7fFzu7s/E5EiC+rrmeQU0Kx2skvRFoOx2ZzlmSdgbsw49JetvtBpk8nM64d/cGbNtJ0s7cGyJlwHeEv+t3nqnLSgPAUOSGyG3AHUxdzqoJbEcvcL+ZTeTeEapzJKxgaeOcc/7Mf06D7kFrguS0VDAMtGadv+E47DT9tcChJej8ISfpD+abgTe45uOkFi8mnQ+JBVQ+d4VXuOptjavcyot8pq86mfwk8LWZnaOEEkoooYQSSojDv8AhQNeGfe0jAAAAAElFTkSuQmCC);background-repeat:no-repeat;border-radius:5px;position:absolute;right:13px;top:10px;height:48px;width:48px;background-size:80%;cursor:pointer;background-position:center;transition:background-color .2s ease}.webcam-wrapper[_ngcontent-%COMP%]   .camera-switch[_ngcontent-%COMP%]:hover{background-color:#0000002e}"]}),e})();var ei=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=rt({type:e}),e.\u0275inj=ot({imports:[[U]]}),e})();var Ji=sn(Ui());var Qi=(()=>{let i=class i{constructor(){this.worker=(0,Ji.createWorker)("eng",1,{logger:t=>console.log(t)})}imageToText(t,s){return new Te(r=>{T(this,null,function*(){yield(yield this.worker).load();let{data:{text:f}}=yield(yield this.worker).recognize("./assets/images/test2.jpg");r.next(f),r.complete()})})}imageRectToText(t,s,o){return new Te(f=>{T(this,null,function*(){yield(yield this.worker).load();let{data:{text:b}}=yield(yield this.worker).recognize(t,{rectangle:o});f.next(b),f.complete()})})}imageRectsToText(t,s,o){return new Te(f=>{T(this,null,function*(){yield(yield this.worker).load();let b=[];for(let S=0;S<o.length;S++){let{data:{text:B}}=yield(yield this.worker).recognize(t,{rectangle:o[S]});b.push(B)}f.next(b),f.complete()})})}terminateWorker(){return T(this,null,function*(){(yield this.worker).terminate()})}};i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();function ls(e,i){if(e&1){let n=K();c(0,"webcam",7),M("imageCapture",function(s){G(n);let o=I();return H(o.handleImage(s))})("cameraSwitched",function(s){G(n);let o=I();return H(o.cameraWasSwitched(s))})("initError",function(s){G(n);let o=I();return H(o.handleInitError(s))}),l()}if(e&2){let n=I();v("height",750)("width",750)("trigger",n.triggerObservable)("allowCameraSwitch",n.allowCameraSwitch)("switchCamera",n.nextWebcamObservable)("videoOptions",n.videoOptions)("imageQuality",1)}}function cs(e,i){if(e&1&&w(0,"img",8),e&2){let n=I();v("src",n.webcamImage.imageAsDataUrl,ne)}}function ds(e,i){if(e&1){let n=K();c(0,"button",9),M("click",function(){G(n);let s=I();return H(s.triggerSnapshot())}),p(1,"\u0E16\u0E48\u0E32\u0E22\u0E23\u0E39\u0E1B"),l()}}function us(e,i){if(e&1){let n=K();c(0,"button",9),M("click",function(){G(n);let s=I();return s.webcamImage=null,H(s.tesseract.terminateWorker())}),p(1,"\u0E16\u0E48\u0E32\u0E22\u0E43\u0E2B\u0E21\u0E48"),l()}}function hs(e,i){if(e&1){let n=K();c(0,"button",10),M("click",function(){G(n);let s=I();return H(s.generateText())}),p(1,"\u0E43\u0E0A\u0E49\u0E23\u0E39\u0E1B\u0E19\u0E35\u0E49"),l()}}var qi=(()=>{let i=class i{constructor(){this.showWebcam=!0,this.allowCameraSwitch=!0,this.multipleWebcamsAvailable=!1,this.videoOptions={},this.errors=[],this.webcamImage=null,this.trigger=new X,this.nextWebcam=new X,this.text=""}ngOnInit(){this.tesseract=new Qi,Be.getAvailableVideoInputs().then(t=>{this.multipleWebcamsAvailable=t&&t.length>1})}ngOnDestroy(){this.tesseract.terminateWorker()}ocr(t){return T(this,null,function*(){this.tesseract.imageToText(t,"eng").subscribe(s=>{this.text=s,console.log(s),this.tesseract.terminateWorker()})})}triggerSnapshot(){this.trigger.next()}toggleWebcam(){this.showWebcam=!this.showWebcam}handleInitError(t){this.errors.push(t)}showNextWebcam(t){this.nextWebcam.next(t)}handleImage(t){console.info("received webcam image",t),this.webcamImage=t,this.imageBuffer=this.base64ToArrayBuffer(t.imageAsBase64)}base64ToArrayBuffer(t){for(var s=atob(t),o=new Uint8Array(s.length),r=0;r<s.length;r++)o[r]=s.charCodeAt(r);return o.buffer}cameraWasSwitched(t){console.log("active device: "+t),this.deviceId=t}get triggerObservable(){return this.trigger.asObservable()}get nextWebcamObservable(){return this.nextWebcam.asObservable()}generateText(){this.ocr(this.imageBuffer)}};i.\u0275fac=function(s){return new(s||i)},i.\u0275cmp=L({type:i,selectors:[["app-modal-scan-ocr"]],standalone:!0,features:[j],decls:8,vars:5,consts:[[1,"row","p-3"],[1,"col-12"],[3,"height","width","trigger","allowCameraSwitch","switchCamera","videoOptions","imageQuality","imageCapture","cameraSwitched","initError",4,"ngIf"],[3,"src",4,"ngIf"],[1,"col-12","mt-2"],["type","button","class","btn btn-primary btn-sm w-100",3,"click",4,"ngIf"],["type","button","class","btn btn-success btn-sm w-100 mt-2",3,"click",4,"ngIf"],[3,"height","width","trigger","allowCameraSwitch","switchCamera","videoOptions","imageQuality","imageCapture","cameraSwitched","initError"],[3,"src"],["type","button",1,"btn","btn-primary","btn-sm","w-100",3,"click"],["type","button",1,"btn","btn-success","btn-sm","w-100","mt-2",3,"click"]],template:function(s,o){s&1&&(c(0,"div",0)(1,"div",1),x(2,ls,1,7,"webcam",2)(3,cs,1,1,"img",3),l(),c(4,"div",4),x(5,ds,2,0,"button",5)(6,us,2,0,"button",5)(7,hs,2,0,"button",6),l()()),s&2&&(h(2),v("ngIf",o.showWebcam&&!o.webcamImage),h(),v("ngIf",o.webcamImage),h(2),v("ngIf",!o.webcamImage),h(),v("ngIf",o.webcamImage),h(),v("ngIf",o.webcamImage))},dependencies:[ei,Xt,U,re]});let e=i;return e})();function ps(e,i){if(e&1&&(c(0,"tr")(1,"td"),p(2),ut(3,"date"),l(),c(4,"td"),p(5),l(),c(6,"td"),p(7),l(),c(8,"td"),p(9),l(),c(10,"td"),p(11),l()()),e&2){let n=i.$implicit;h(2),te(Gt(3,5,n.date,"dd/MM/yyyy")),h(3),te(n.time),h(2),te(n.careTaker),h(2),te(n.dialysis),h(2),te(n.status)}}var Yi=(()=>{let i=class i{constructor(){this.modal=O(Oe),this.activeModal=O(pe)}openModalScanOcr(){this.modal.open(qi,{size:"lg"}).result.then(s=>{})}};i.\u0275fac=function(s){return new(s||i)},i.\u0275cmp=L({type:i,selectors:[["app-modal-patient-info"]],inputs:{patient:"patient"},standalone:!0,features:[j],decls:44,vars:6,consts:[[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-2"],["alt","...",1,"rounded",2,"height","120px","width","120px",3,"src"],[1,"col-10"],[2,"font-weight","bold"],[2,"font-size","small","color","rgb(124, 124, 124)"],[1,"row","mt-5"],[1,"col-6"],[1,"col-6","text-end"],["type","button","data-bs-toggle","modal","data-bs-target","#modalAddDialysis",1,"btn","btn-light","btn-sm",3,"click"],[1,"col-12","mt-2"],[1,"table","table-bordered"],["scope","col"],[4,"ngFor","ngForOf"]],template:function(s,o){s&1&&(c(0,"div",0)(1,"h5",1),p(2,"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E1C\u0E39\u0E49\u0E1B\u0E48\u0E27\u0E22"),l(),c(3,"button",2),M("click",function(){return o.activeModal.close()}),l()(),c(4,"div",3)(5,"div",4)(6,"div",5),w(7,"img",6),l(),c(8,"div",7)(9,"label",8),p(10),l(),w(11,"br"),c(12,"label",9),p(13),l(),w(14,"br"),c(15,"label",9),p(16),l(),w(17,"br"),c(18,"label",9),p(19),l(),w(20,"br"),l()(),c(21,"div",10)(22,"div",11)(23,"h5"),p(24,"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E1F\u0E2D\u0E01\u0E44\u0E15"),l()(),c(25,"div",12)(26,"button",13),M("click",function(){return o.openModalScanOcr()}),p(27,"\u0E40\u0E23\u0E34\u0E48\u0E21\u0E16\u0E48\u0E32\u0E22\u0E23\u0E39\u0E1B"),l()(),c(28,"div",14)(29,"table",15)(30,"thead")(31,"tr")(32,"th",16),p(33,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48"),l(),c(34,"th",16),p(35,"\u0E40\u0E27\u0E25\u0E32"),l(),c(36,"th",16),p(37,"\u0E1C\u0E39\u0E49\u0E14\u0E39\u0E41\u0E25"),l(),c(38,"th",16),p(39,"\u0E1C\u0E39\u0E49\u0E1F\u0E2D\u0E01\u0E44\u0E15"),l(),c(40,"th",16),p(41,"\u0E2A\u0E16\u0E32\u0E19\u0E30"),l()()(),c(42,"tbody"),x(43,ps,12,8,"tr",17),l()()()()()),s&2&&(h(7),v("src",o.patient.image,ne),h(3),P("HN: ",o.patient.hn,""),h(3),P("\u0E0A\u0E37\u0E48\u0E2D: ",o.patient.name,""),h(3),P("\u0E2D\u0E32\u0E22\u0E38: ",o.patient.age," \u0E1B\u0E35"),h(3),P("\u0E42\u0E23\u0E04\u0E1B\u0E23\u0E30\u0E08\u0E33\u0E15\u0E31\u0E27: ",o.patient.disease,""),h(24),v("ngForOf",o.patient.dialysisList))},dependencies:[U,se,$t]});let e=i;return e})();function fs(e,i){e&1&&(c(0,"h5",11),p(1," \u0E27\u0E48\u0E32\u0E07 "),l())}function ms(e,i){if(e&1&&(c(0,"div",12)(1,"div",13),w(2,"img",14),l(),c(3,"div",5)(4,"label",15),p(5),l(),w(6,"br"),c(7,"label",16),p(8),l(),w(9,"br"),c(10,"label",16),p(11),l(),w(12,"br"),c(13,"label",16),p(14),l(),w(15,"br"),l()()),e&2){let n=I().$implicit;h(2),v("src",n.patient.image,ne),h(3),P("HN: ",n.patient.hn,""),h(3),P("\u0E0A\u0E37\u0E48\u0E2D: ",n.patient.name,""),h(3),P("\u0E2D\u0E32\u0E22\u0E38: ",n.patient.age," \u0E1B\u0E35"),h(3),P("\u0E42\u0E23\u0E04\u0E1B\u0E23\u0E30\u0E08\u0E33\u0E15\u0E31\u0E27: ",n.patient.disease,"")}}function _s(e,i){if(e&1){let n=K();Y(0),c(1,"div",2),M("click",function(){let o=G(n).$implicit,r=I();return H(r.openModalPatientInfo(o.patient))}),c(2,"div",3)(3,"div",4)(4,"div",0)(5,"div",5),p(6),l(),c(7,"div",6)(8,"button",7)(9,"label"),p(10,"DC"),l()()()()(),c(11,"div",8),x(12,fs,2,0,"h5",9)(13,ms,16,5,"div",10),l()()(),Z()}if(e&2){let n=i.$implicit;h(6),te(n.bedName),h(6),v("ngIf",!n.patient),h(),v("ngIf",n.patient)}}var Zi=(()=>{let i=class i{constructor(){this.bedList=JSON.parse(localStorage.getItem("bed")),this.patientList=JSON.parse(localStorage.getItem("patient")),this.modal=O(Oe)}ngOnInit(){this.bedList=this.bedList.filter(t=>t.roomId===this.room);for(let t of this.bedList)t.patient=this.patientList.filter(s=>s.bedNo===t.bedNo)[0]}openModalPatientInfo(t){if(!t)return;let s=this.modal.open(Yi,{size:"lg",backdrop:"static"});s.componentInstance.patient=t,s.result.then(o=>{})}};i.\u0275fac=function(s){return new(s||i)},i.\u0275cmp=L({type:i,selectors:[["app-bed-room"]],inputs:{room:"room"},standalone:!0,features:[j],decls:2,vars:1,consts:[[1,"row"],[4,"ngFor","ngForOf"],[1,"col-md-3","col-sm-12","mb-2",2,"cursor","pointer",3,"click"],[1,"card","w-100","mb-3"],[1,"card-header",2,"font-weight","bold"],[1,"col-8"],[1,"col-4","text-end"],["type","button",1,"btn","btn-danger","btn-sm","dc-btn"],[1,"card-body"],["class","card-title text-center",4,"ngIf"],["class","card-text row",4,"ngIf"],[1,"card-title","text-center"],[1,"card-text","row"],[1,"col-4"],["alt","...",1,"rounded",2,"height","80px","width","80px",3,"src"],[2,"font-weight","bold"],[2,"font-size","small","color","rgb(124, 124, 124)"]],template:function(s,o){s&1&&(c(0,"div",0),x(1,_s,14,3,"ng-container",1),l()),s&2&&(h(),v("ngForOf",o.bedList))},dependencies:[U,se,re]});let e=i;return e})();function gs(e,i){if(e&1&&(c(0,"option",15),p(1),l()),e&2){let n=i.$implicit;v("value",n.roomId),h(),te(n.roomName)}}function bs(e,i){if(e&1&&(c(0,"option",15),p(1),l()),e&2){let n=i.$implicit;v("value",n.bedNo),h(),dt("",n.bedName," (",n.machineName,")")}}function vs(e,i){if(e&1){let n=K();Y(0),c(1,"label"),p(2,"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E40\u0E15\u0E35\u0E22\u0E07"),l(),w(3,"br"),c(4,"select",16),M("ngModelChange",function(s){G(n);let o=I();return H(o.selectedBed=s)}),c(5,"option",9),p(6,"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E40\u0E15\u0E35\u0E22\u0E07"),l(),x(7,bs,2,3,"option",10),l(),Z()}if(e&2){let n=I();h(4),v("ngModel",n.selectedBed),h(3),v("ngForOf",n.bedList)}}var Xi=(()=>{let i=class i{constructor(){this.modal=O(pe),this.roomList=JSON.parse(localStorage.getItem("room")),this.bedList=JSON.parse(localStorage.getItem("bed")),this.selectedRoom="",this.selectedBed=""}filterBed(){this.bedList=JSON.parse(localStorage.getItem("bed")).filter(t=>t.roomId===this.selectedRoom)}submit(){this.modal.close({patient:this.patient,roomId:this.selectedRoom,bedId:this.selectedBed})}};i.\u0275fac=function(s){return new(s||i)},i.\u0275cmp=L({type:i,selectors:[["app-modal-select-room"]],inputs:{patient:"patient"},standalone:!0,features:[j],decls:22,vars:6,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-3"],["alt","...",1,"rounded",2,"height","100px","width","100px",3,"src"],[1,"col-9"],["aria-label","Default select example",1,"form-select","mb-2",2,"font-size","small","color","rgb(124, 124, 124)",3,"ngModel","ngModelChange","change"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],["type","button",1,"btn","btn-sm","btn-light",3,"click"],[3,"value"],["aria-label","Default select example",1,"form-select","mb-2",2,"font-size","small","color","rgb(124, 124, 124)",3,"ngModel","ngModelChange"]],template:function(s,o){s&1&&(c(0,"div",0)(1,"h4",1),p(2),l(),c(3,"button",2),M("click",function(){return o.modal.dismiss("Cross click")}),l()(),c(4,"div",3)(5,"div",4)(6,"div",5),w(7,"img",6),l(),c(8,"div",7)(9,"label"),p(10,"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E2B\u0E49\u0E2D\u0E07"),l(),w(11,"br"),c(12,"select",8),M("ngModelChange",function(f){return o.selectedRoom=f})("change",function(){return o.filterBed()}),c(13,"option",9),p(14,"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E2B\u0E49\u0E2D\u0E07"),l(),x(15,gs,2,2,"option",10),l(),x(16,vs,8,2,"ng-container",11),l()()(),c(17,"div",12)(18,"button",13),M("click",function(){return o.submit()}),p(19,"Submit"),l(),c(20,"button",14),M("click",function(){return o.modal.dismiss("cancel click")}),p(21,"Cancel"),l()()),s&2&&(h(2),dt("",o.patient.name," HN: ",o.patient.hn,""),h(5),v("src",o.patient.image,ne),h(5),v("ngModel",o.selectedRoom),h(3),v("ngForOf",o.roomList),h(),v("ngIf",o.selectedRoom))},dependencies:[U,se,re,Jt,Kt,Ut,zt,jt,Wt]});let e=i;return e})();function ys(e,i){if(e&1){let n=K();Y(0),c(1,"div",6),M("click",function(){let o=G(n).$implicit,r=I();return H(r.openModalSelectRoom(o))}),c(2,"div",7),w(3,"img",8),l(),c(4,"div",9)(5,"label",10),p(6),l(),w(7,"br"),c(8,"label",11),p(9),l(),w(10,"br"),c(11,"label",11),p(12),l(),w(13,"br"),c(14,"label",11),p(15),l(),w(16,"br"),l()(),Z()}if(e&2){let n=i.$implicit;h(3),v("src",n.image,ne),h(3),P("HN: ",n.hn,""),h(3),P("\u0E0A\u0E37\u0E48\u0E2D: ",n.name,""),h(3),P("\u0E2D\u0E32\u0E22\u0E38: ",n.age," \u0E1B\u0E35"),h(3),P("\u0E42\u0E23\u0E04\u0E1B\u0E23\u0E30\u0E08\u0E33\u0E15\u0E31\u0E27: ",n.disease,"")}}var en=(()=>{let i=class i{constructor(){this.patient=JSON.parse(localStorage.getItem("patient")),this.patientList=JSON.parse(localStorage.getItem("patient")).filter(t=>t.status===""),this.modal=O(Oe)}openModalSelectRoom(t){let s=this.modal.open(Xi,{size:"md"});s.componentInstance.patient=t,s.result.then(o=>{for(let r of this.patient)r.hn===o?.patient?.hn&&(r.roomId=o.roomId,r.bedNo=o.bedId,r.visitDate=new Date,r.status="admit",r.visitId=+new Date);localStorage.setItem("patient",JSON.stringify(this.patient)),this.patientList=JSON.parse(localStorage.getItem("patient")).filter(r=>r.status==="")})}};i.\u0275fac=function(s){return new(s||i)},i.\u0275cmp=L({type:i,selectors:[["app-wait-admit"]],standalone:!0,features:[j],decls:7,vars:1,consts:[[1,"row"],[1,"col-md-3","col-sm-12","mb-2"],[1,"card","mb-3"],[1,"card-header",2,"font-weight","bold"],[1,"card-body",2,"height","65vh","overflow","auto"],[4,"ngFor","ngForOf"],[1,"row","mb-3","selected-card",3,"click"],[1,"col-4"],["alt","...",1,"rounded",2,"height","80px","width","80px",3,"src"],[1,"col-8"],[2,"font-weight","bold"],[2,"font-size","small","color","rgb(124, 124, 124)"]],template:function(s,o){s&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),p(4,"\u0E23\u0E2D\u0E23\u0E31\u0E1A\u0E43\u0E2B\u0E21\u0E48"),l(),c(5,"div",4),x(6,ys,17,5,"ng-container",5),l()()()()),s&2&&(h(6),v("ngForOf",o.patientList))},dependencies:[U,se]});let e=i;return e})();function ws(e,i){if(e&1&&(Y(0),c(1,"div",6)(2,"div",7),w(3,"img",8),l(),c(4,"div",9)(5,"label",10),p(6),l(),w(7,"br"),c(8,"label",11),p(9),l(),w(10,"br"),c(11,"label",11),p(12),l(),w(13,"br"),c(14,"label",11),p(15),l(),w(16,"br"),l()(),Z()),e&2){let n=i.$implicit;h(3),v("src",n.image,ne),h(3),P("HN: ",n.hn,""),h(3),P("\u0E0A\u0E37\u0E48\u0E2D: ",n.name,""),h(3),P("\u0E2D\u0E32\u0E22\u0E38: ",n.age," \u0E1B\u0E35"),h(3),P("\u0E42\u0E23\u0E04\u0E1B\u0E23\u0E30\u0E08\u0E33\u0E15\u0E31\u0E27: ",n.disease,"")}}var tn=(()=>{let i=class i{constructor(){this.patientList=JSON.parse(localStorage.getItem("patient")).filter(t=>t.status==="discharge")}};i.\u0275fac=function(s){return new(s||i)},i.\u0275cmp=L({type:i,selectors:[["app-discharge"]],standalone:!0,features:[j],decls:7,vars:1,consts:[[1,"row"],[1,"col-md-3","col-sm-12","mb-2"],[1,"card","mb-3"],[1,"card-header",2,"font-weight","bold"],[1,"card-body",2,"height","65vh","overflow","auto"],[4,"ngFor","ngForOf"],[1,"row","mb-3","selected-card"],[1,"col-4"],["alt","...",1,"rounded",2,"height","80px","width","80px",3,"src"],[1,"col-8"],[2,"font-weight","bold"],[2,"font-size","small","color","rgb(124, 124, 124)"]],template:function(s,o){s&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),p(4,"Discharge"),l(),c(5,"div",4),x(6,ws,17,5,"ng-container",5),l()()()()),s&2&&(h(6),v("ngForOf",o.patientList))},dependencies:[U,se]});let e=i;return e})();function Ss(e,i){if(e&1){let n=K();Y(0),c(1,"button",19),M("click",function(){let o=G(n).$implicit,r=I();return r.room="room",H(r.selectRoom(o.roomId))}),p(2),l(),p(3,"\xA0 "),Z()}if(e&2){let n=i.$implicit,t=I();h(),Ke("btn ",t.roomId==n.roomId&&t.room=="room"?"btn-primary":"btn-light"," btn-sm"),h(),te(n.roomName)}}function Ds(e,i){e&1&&(Y(0),w(1,"app-wait-admit"),Z())}function Es(e,i){if(e&1&&(Y(0),w(1,"app-bed-room",22),Z()),e&2){let n=I();h(),v("room",n.roomId)}}function Ts(e,i){e&1&&(Y(0),w(1,"app-discharge"),Z())}var Sa=(()=>{let i=class i{constructor(){this.roomList=JSON.parse(localStorage.getItem("room")),this.room="admit",this.disabled=!1}selectRoom(t){this.disabled=!0,setTimeout(()=>{this.roomId=t,this.disabled=!1},1)}};i.\u0275fac=function(s){return new(s||i)},i.\u0275cmp=L({type:i,selectors:[["app-dashboard"]],standalone:!0,features:[j],decls:43,vars:10,consts:[[1,"container"],[1,"row","mt-3","mb-3"],[1,"col-md-8"],[1,"row"],[1,"col-12"],[1,"col-6"],["type","text","placeholder","\u0E04\u0E49\u0E19\u0E2B\u0E32 HN/\u0E0A\u0E37\u0E48\u0E2D",1,"form-control","mt-3"],[1,"col-md-4"],[1,"card","pb-3"],[1,"col-md-3"],["src","./assets/images/nurse_avatar.jpg","alt","...",1,"rounded",2,"height","100px"],[1,"col-md-9"],[1,"row","mt-2"],[2,"font-weight","bold"],[2,"font-size","small","color","rgb(124, 124, 124)"],[1,"col-12","text-end","pe-4","text-danger"],["type","button",1,"btn","btn-light","btn-sm"],["type","button",1,"btn","btn-danger","btn-sm"],[1,"row","mb-3"],["type","button",3,"click"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"room"]],template:function(s,o){s&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3"),p(6,"Dashboard"),l()(),c(7,"div",5),w(8,"input",6),l()()(),c(9,"div",7)(10,"div",8)(11,"div",3)(12,"div",9),w(13,"img",10),l(),c(14,"div",11)(15,"div",12)(16,"div",4)(17,"label",13),p(18,"\u0E04\u0E38\u0E13\u0E1E\u0E22\u0E32\u0E1A\u0E32\u0E25 \u0E2A\u0E21\u0E2B\u0E21\u0E32\u0E22"),l(),w(19,"br"),c(20,"label",14),p(21,"\u0E15\u0E33\u0E41\u0E2B\u0E19\u0E48\u0E07 : \u0E1E\u0E22\u0E32\u0E1A\u0E32\u0E25"),l(),w(22,"br"),c(23,"label",14),p(24,"\u0E2A\u0E32\u0E02\u0E32 : \u0E2A\u0E38\u0E02\u0E38\u0E21\u0E27\u0E34\u0E17"),l()(),c(25,"div",15)(26,"button",16),p(27,"\u0E41\u0E01\u0E49\u0E44\u0E02"),l(),p(28,"\xA0 "),c(29,"button",17),p(30,"\u0E2D\u0E2D\u0E01\u0E08\u0E32\u0E01\u0E23\u0E30\u0E1A\u0E1A"),l()()()()()()()(),c(31,"div",18)(32,"div",4)(33,"button",19),M("click",function(){return o.room="admit"}),p(34,"\u0E1C\u0E39\u0E49\u0E1B\u0E48\u0E27\u0E22\u0E23\u0E2D admit"),l(),p(35,"\xA0 "),x(36,Ss,4,4,"ng-container",20),c(37,"button",19),M("click",function(){return o.room="discharge"}),p(38,"Discharge"),l(),p(39,"\xA0 "),l()(),x(40,Ds,2,0,"ng-container",21)(41,Es,2,1,"ng-container",21)(42,Ts,2,0,"ng-container",21),l()),s&2&&(h(33),Ke("btn ",o.room=="admit"?"btn-primary":"btn-light"," btn-sm"),h(3),v("ngForOf",o.roomList),h(),Ke("btn ",o.room=="discharge"?"btn-primary":"btn-light"," btn-sm"),h(3),v("ngIf",o.room=="admit"),h(),v("ngIf",o.room=="room"&&!o.disabled),h(),v("ngIf",o.room=="discharge"))},dependencies:[U,se,re,Zi,en,tn]});let e=i;return e})();export{Sa as DashboardComponent};
